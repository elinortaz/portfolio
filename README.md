# 📊 ניתוח נתוני מכירות - ניקוי דאטה מלוכלכת ב-SQL

בפרויקט הזה ביצעתי טעינה, ניקוי וניתוח ראשוני של טבלת מכירות שמכילה נתונים מלוכלכים, כחלק מהדגמת יכולות SQL וניהול דאטה אנליטי מקצה לקצה.

---

## 🧾 תיאור הפרויקט

חברת אונליין בשם "Shopazon" סיפקה טבלת הזמנות, שנדרשה לעבור ניקוי ובדיקה.  
המטרה הייתה:
- לזהות תקלות בנתונים
- לבצע תיקונים וניקויים
- להכין את הנתונים לניתוח עסקי אמיתי

---

## 🗃 מבנה הנתונים (מקור - `sales_data_dirty.csv`)

| שדה           | תיאור                                   |
|---------------|-------------------------------------------|
| `order_id`    | מזהה ייחודי להזמנה                        |
| `customer_id` | מזהה לקוח                                |
| `order_date`  | תאריך ההזמנה (טקסט)                      |
| `product_id`  | מזהה מוצר                                |
| `product_name`| שם המוצר, לפעמים עם מרכאות               |
| `category`    | קטגוריית המוצר, לעיתים שגויה או לא אחידה |
| `quantity`    | כמות שנמכרה – לעיתים חסר / שלילי         |
| `price`       | מחיר ליחידה – כולל ערכים לא מספריים       |
| `total`       | סך הכל להזמנה – לא תמיד תואם              |
| `region`      | אזור גאוגרפי – כתוב בצורות שונות         |

---

## ❌ בעיות עיקריות בדאטה

- ערכים שגויים (כמו `price = "abc"`, `quantity = -1`)
- ערכים חסרים (`NULL`, `''`)
- מרכאות מיותרות בטקסטים
- שמות לא אחידים (`north`, `NORTH`, `nortH`)
- קטגוריות עם שגיאות הקלדה (`hygeine`)

---

## 🛠 תהליך הניקוי (SQL)

- **טעינה**: הנתונים נטענו לטבלה `sales_data_raw` שבה כל העמודות טקסטואליות (`VARCHAR`)
- **ניקוי**: בוצעה המרה לטיפוסים מתאימים עם תנאים
- **אחידות**: שימוש ב-`TRIM`, `LOWER`, ו-`REGEXP` לטיפול בשמות, קטגוריות ואזורים
- **שימור שגיאות**: ערכים חשודים הומרו ל-`NULL` להמשך חקירה

---

## 🧼 דוגמה לחלק מהשורות שנוקו

```sql
-- ניקוי כמות לא תקינה
CASE
  WHEN quantity REGEXP '^[0-9]+$' THEN CAST(quantity AS SIGNED)
  ELSE NULL
END AS quantity

-- הסרת מרכאות משמות מוצרים
TRIM(BOTH '"' FROM product_name)
```

---

## 📈 המשך עבודה (Under Exploration...)

- ניתוח מגמות לפי אזור / קטגוריה
- איתור עסקאות חריגות
- בדיקת התאמה בין `price * quantity` ל-`total`
- הדמיות ודשבורדים ב-Tableau (בשלב הבא)

---
